<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"/>
    <title>Lastgangsvisualisierungsschnittstelle</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Include required CSS files -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
          integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU"
          crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheet.css"/>
</head>

<body>
<!-- Header -->
<header class="navbar navbar-expand-lg navbar-dark bg-dark p-0 shadow">
    <!-- Title -->
    <img src="header.png" style="width: 100%" alt="logo.png"/>
</header>

<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <nav class="col-md-2 bg-light sidebar" id="sidebar">
            <h5>Abfrageoptionen</h5>
            <!-- Menu items -->
            <form class="form-group">
                <!-- User selection -->
                <label for="user-selector" class="col-form-label-sm">Zählernummer</label>
                <select id="user-selector" onchange="getMinMaxInformation()" class="form-control form-control-sm">
                    <option value="">Zähler auswählen...</option>
                </select>
                <!-- Mode selection -->
                <label for="mode-selector" class="col-form-label-sm">Modus</label>
                <select onchange="modeChanged()" id="mode-selector"
                        class="form-control form-control-sm form-control-dark">
                    <option value="day">Tagesansicht</option>
                    <option value="interval">Intervall</option>
                    <option value="month">Monat</option>
                    <option value="year">Jahr</option>
                </select>
                <!-- Date form -->
                <div id="day-options" class="mb-8">
                    <label for="date-selector" class="col-form-label-sm">Datum</label>
                    <input type="date" id="date-selector" class="form-control form-control-sm">
                    <!-- Resolution selection -->
                    <label for="resolution-selector" class="col-form-label-sm">Auslösung</label>
                    <select id="resolution-selector" class="form-control form-control-sm">
                        <option value="15">Viertelstunde</option>
                        <option value="60">Stunde</option>
                    </select>
                </div>
                <!-- Interval form -->
                <div id="interval-options" style="display: none">
                    <label for="first-date-selector" class="col-form-label-sm">Startdatum</label>
                    <input type="date" id="first-date-selector" class="form-control form-control-sm">
                    <label for="last-date-selector" class="col-form-label-sm">Enddatum</label>
                    <input type="date" id="last-date-selector" class="form-control form-control-sm">
                </div>
                <!-- Month form -->
                <div id="month-options" style="display: none">
                    <label for="month-selector" class="col-form-label-sm">Monat</label>
                    <input type="month" id="month-selector" class="form-control form-control-sm">
                </div>
                <!-- Year form -->
                <div id="year-options" style="display: none">
                    <label for="year-selector" class="col-form-label-sm">Jahr</label>
                    <select id="year-selector" class="form-control form-control-sm"></select>
                </div>
                <!-- Submit button -->
                <button type="button" onclick="requestData()"
                        class="form-control form-control-sm btn btn-outline-primary btn-sm my-3">Abrufen
                </button>
                <!-- Show meter value -->
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="meter-readings-selector"
                           onchange="meterReadingsSelectorChanged(this)">
                    <label class="custom-control-label " for="meter-readings-selector">Zählerstand anzeigen</label>
                </div>
                <!-- Set price per kWh -->
                <div class="custom-control custom-range my-3">
                    <label for="price-select">Preis pro kWh: <span id="price-val">0.30</span> €</label>
                    <input type="range" id="price-select" oninput="priceChanged()"
                           class="form-control-range form-control-sm"
                           min="10" max="50" value="30">
                </div>
            </form>
            <hr>
            <!-- Statistics -->
            <div id="stat" style="display: none">
                <h5 class="mb-3">Statistische Daten</h5>
                <ul id="stat-data" class="list-unstyled"></ul>
            </div>
        </nav>

        <!-- Main -->
        <main class="col-md-2 ml-sm-auto mr-sm-auto col-lg-10 px-4">
            <!-- Content -->
            <div id="content" style="display: none">
                <!-- Title -->
                <div class="card card-body p-2">
                    <h4 class="card-text text-center">
                            <span id="prev"><button type="button" id="prev-button" onclick="decreaseDate()"
                                                    style="background-color:transparent; border-color:transparent;">
                                <i class="fas fa-angle-left"></i>
                            </button></span>
                        <span id="title"></span>
                        <span id="next"><button type="button" id="next-button" onclick="increaseDate()"
                                                style="background-color:transparent; border-color:transparent;">
                                <i class="fas fa-angle-right"></i>
                            </button></span>
                    </h4>
                    <p id="user-info" class="lead text-center p-0 m-0">User</p>
                </div>
                <!-- Chart -->
                <div class="card card-body">
                    <canvas id="myChart" class="card-text" width="75%" height="35%"></canvas>
                </div>
                <!-- Table -->
                <div class="card card-body">
                    <div id="data-table" class="card-text table-responsive"></div>
                </div>
            </div>
            <!-- Startup page -->
            <div id="startup">
                <div class="card card-body">
                    <h2 class="text-center">Wilkommen bei der Lastgangsvisualisierungsschnittstelle</h2>
                    <br>
                    <p>Verfügbare Nutzer:</p>
                    <ul id="user-list-all" class="list"></ul>
                </div>
            </div>
        </main>
    </div>
</div>

<!-- Scripts -->
<!-- Custom -->
<script src="script.js"></script>
<script src="chart_settings.js"></script>
<!-- Moment.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment-with-locales.min.js" integrity="sha256-2upzq+m3oG9Q4Xye6pGvLrXgrzOKtTgR1D2GCLUzL2o=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
<!-- Chart.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
</body>

</html>